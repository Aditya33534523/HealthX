{% extends "base.html" %} 
{% block title %}Login - PharmaCare{% endblock %} 
{% block content %}

<style>
    /* Glassmorphism Background */
    .glass-bg {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        position: relative;
        overflow: hidden;
    }
    
    .glass-bg::before {
        content: '';
        position: absolute;
        width: 500px;
        height: 500px;
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        border-radius: 50%;
        top: -250px;
        right: -250px;
        opacity: 0.5;
        animation: float 6s ease-in-out infinite;
    }
    
    .glass-bg::after {
        content: '';
        position: absolute;
        width: 400px;
        height: 400px;
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        border-radius: 50%;
        bottom: -200px;
        left: -200px;
        opacity: 0.5;
        animation: float 8s ease-in-out infinite reverse;
    }
    
    @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(30px); }
    }
    
    /* Glassmorphism Card */
    .glass-card {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    }
    
    /* Glass Input */
    .glass-input {
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        color: white;
    }
    
    .glass-input::placeholder {
        color: rgba(255, 255, 255, 0.7);
    }
    
    .glass-input:focus {
        background: rgba(255, 255, 255, 0.3);
        border-color: rgba(255, 255, 255, 0.5);
        outline: none;
    }
    
    /* Glass Button */
    .glass-button {
        background: rgba(255, 255, 255, 0.3);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.4);
        transition: all 0.3s ease;
    }
    
    .glass-button:hover {
        background: rgba(255, 255, 255, 0.4);
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    }
    
    /* Tab Styling */
    .tab-active {
        background: rgba(255, 255, 255, 0.3);
        backdrop-filter: blur(10px);
    }
</style>

<div class="glass-bg min-h-screen flex items-center justify-center px-4 py-12">
    <div class="glass-card max-w-md w-full rounded-3xl p-8 relative z-10">
        <!-- Logo -->
        <div class="text-center mb-8">
            <div class="bg-white/30 backdrop-blur-md w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 border border-white/40">
                <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path>
                </svg>
            </div>
            <h1 class="text-3xl font-bold text-white mb-2">PharmaCare</h1>
            <p class="text-white/80">Your Healthcare Companion</p>
        </div>

        <!-- Tabs -->
        <div class="flex gap-2 mb-6 bg-white/10 p-1 rounded-2xl">
            <button 
                id="login-tab" 
                onclick="switchTab('login')"
                class="tab-active flex-1 py-3 rounded-xl text-white font-semibold transition-all"
            >
                Sign In
            </button>
            <button 
                id="signup-tab" 
                onclick="switchTab('signup')"
                class="flex-1 py-3 rounded-xl text-white/70 font-semibold transition-all hover:text-white"
            >
                Sign Up
            </button>
        </div>

        <!-- Login Form -->
        <form id="login-form" method="POST" action="{{ url_for('login') }}" class="space-y-5">
            <div>
                <label class="block text-white/90 text-sm font-medium mb-2">Email Address</label>
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                        <svg class="h-5 w-5 text-white/60" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"></path>
                        </svg>
                    </div>
                    <input
                        type="email"
                        name="email"
                        required
                        class="glass-input w-full pl-12 pr-4 py-3 rounded-xl text-white"
                        placeholder="your@email.com"
                    />
                </div>
            </div>

            <div>
                <label class="block text-white/90 text-sm font-medium mb-2">Password</label>
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                        <svg class="h-5 w-5 text-white/60" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                        </svg>
                    </div>
                    <input
                        type="password"
                        name="password"
                        required
                        class="glass-input w-full pl-12 pr-4 py-3 rounded-xl text-white"
                        placeholder="••••••••"
                    />
                </div>
            </div>

            <button type="submit" class="glass-button w-full py-3 rounded-xl font-semibold text-white">
                Sign In
            </button>
        </form>

        <!-- Signup Form (Hidden by default) -->
        <form id="signup-form" method="POST" action="{{ url_for('signup') }}" class="space-y-5 hidden">
            <div>
                <label class="block text-white/90 text-sm font-medium mb-2">Full Name</label>
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                        <svg class="h-5 w-5 text-white/60" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                    </div>
                    <input
                        type="text"
                        name="name"
                        required
                        class="glass-input w-full pl-12 pr-4 py-3 rounded-xl text-white"
                        placeholder="John Doe"
                    />
                </div>
            </div>

            <div>
                <label class="block text-white/90 text-sm font-medium mb-2">Email Address</label>
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                        <svg class="h-5 w-5 text-white/60" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"></path>
                        </svg>
                    </div>
                    <input
                        type="email"
                        name="email"
                        required
                        class="glass-input w-full pl-12 pr-4 py-3 rounded-xl text-white"
                        placeholder="your@email.com"
                    />
                </div>
            </div>

            <div>
                <label class="block text-white/90 text-sm font-medium mb-2">Phone Number (WhatsApp)</label>
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                        <svg class="h-5 w-5 text-white/60" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                        </svg>
                    </div>
                    <input
                        type="tel"
                        name="phone"
                        required
                        class="glass-input w-full pl-12 pr-4 py-3 rounded-xl text-white"
                        placeholder="+1234567890"
                    />
                </div>
            </div>

            <div>
                <label class="block text-white/90 text-sm font-medium mb-2">Password</label>
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                        <svg class="h-5 w-5 text-white/60" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                        </svg>
                    </div>
                    <input
                        type="password"
                        name="password"
                        required
                        class="glass-input w-full pl-12 pr-4 py-3 rounded-xl text-white"
                        placeholder="••••••••"
                    />
                </div>
            </div>

            <div class="flex items-center gap-2">
                <input
                    type="checkbox"
                    name="whatsapp_alerts"
                    id="whatsapp-alerts"
                    checked
                    class="w-4 h-4 rounded border-white/30"
                />
                <label for="whatsapp-alerts" class="text-white/90 text-sm">
                    Receive WhatsApp alerts for drug safety
                </label>
            </div>

            <button type="submit" class="glass-button w-full py-3 rounded-xl font-semibold text-white">
                Create Account
            </button>
        </form>

        <!-- Footer -->
        <p class="text-center text-sm text-white/70 mt-6">
            <span id="footer-text">Don't have an account? Sign up!</span>
        </p>
    </div>
</div>

<script>
    function switchTab(tab) {
        const loginTab = document.getElementById('login-tab');
        const signupTab = document.getElementById('signup-tab');
        const loginForm = document.getElementById('login-form');
        const signupForm = document.getElementById('signup-form');
        const footerText = document.getElementById('footer-text');

        if (tab === 'login') {
            loginTab.classList.add('tab-active', 'bg-white/30');
            loginTab.classList.remove('text-white/70');
            signupTab.classList.remove('tab-active', 'bg-white/30');
            signupTab.classList.add('text-white/70');
            
            loginForm.classList.remove('hidden');
            signupForm.classList.add('hidden');
            
            footerText.textContent = "Don't have an account? Sign up!";
        } else {
            signupTab.classList.add('tab-active', 'bg-white/30');
            signupTab.classList.remove('text-white/70');
            loginTab.classList.remove('tab-active', 'bg-white/30');
            loginTab.classList.add('text-white/70');
            
            signupForm.classList.remove('hidden');
            loginForm.classList.add('hidden');
            
            footerText.textContent = "Already have an account? Sign in!";
        }
    }
</script>

{% endblock %}